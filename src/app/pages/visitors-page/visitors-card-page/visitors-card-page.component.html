<div class="container-fluid visitor-card-container">
    <div class="visitor-banner background-image" [ngStyle]="{'background-image': getVisitorBannerImageUrl()}">
        <div class="visitor-banner-heading">
            <h2><b>WELCOME</b></h2>
        </div>
        <div class="visitor-banner-text">
            <p>
                <strong>Thank you</strong> for spending part of your weekend with us.<br>
                We're so glad you are here and hope you feel at <strong>home</strong>.
            <p>
        </div>
    </div>

    <div class="visitor-content">
        <div class="visitor-content-header">
            <h3><b>GET IN TOUCH</b></h3>
            <hr>
            <p>
                We'd love to connect with you! Please fill in your details on the form below.
            </p>
            <br>
        </div>

        <div class="visitor-content-form">
            <div class="row">
                <div class="col-lg-2 col-sm-0"></div>
                <div class="col-lg-8 col-sm-12">
                    <form>
                        <br>
                        <h4 class="text-center"><b>PERSONAL DETAILS</b></h4>
                        <br>
                        <div *ngIf="!isValidForm" class="alert alert-danger" role="alert">
                            Please fill in the required fields below
                        </div>
                        <p class="text-right">
                            <small class="text-right"><span class="required-field">*</span>&nbsp;-&nbsp;Required field</small>
                        </p>
                        <br>
                        <div class="input-group mb-3 row">
                            <label for="title" class="col-sm-2 col-form-label">Title:</label>
                            <div class="col-sm-10">
                                <select class="form-control custom-select" 
                                        [(ngModel)]="visitorDetails.title" 
                                        name="title" 
                                        id="title">
                                    <option disabled selected>Select a title</option>
                                    <option value="Mr">Mr</option>
                                    <option value=Mrs>Mrs</option>
                                    <option value="Ms">Ms</option>
                                    <option value="Miss">Miss</option>
                                    <option value="Dr">Dr</option>
                                    <option value="Pr">Pr</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-group mb-3 row">
                            <label for="firstName" class="col-sm-2 col-form-label"><span class="required-field">*</span>&nbsp;First Name:</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="visitorDetails.firstName" name="firstName" type="text" class="form-control" id="firstName" required>
                            </div>
                        </div>
                        <div class="input-group mb-3 row">
                            <label for="surname" class="col-sm-2 col-form-label"><span class="required-field">*</span>&nbsp;Surname:</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="visitorDetails.surname" name="surname" type="text" class="form-control" id="surname" required>
                            </div>
                        </div>
                        <div class="input-group mb-3 row">
                            <label for="contactNumber" class="col-sm-2 col-form-label"><span class="required-field">*</span>&nbsp;Cell Number:</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="visitorDetails.contactNumber" name="contactNumber" type="text" class="form-control" id="contactNumber" required>
                            </div>
                        </div>
                        <div class="input-group mb-3 row">
                            <label for="email" class="col-sm-2 col-form-label">Email:</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="visitorDetails.email" name="email" type="text" class="form-control" id="email">
                            </div>
                        </div>
                        <hr>
                        <br>
                        <h4 class="text-center">
                            <b>FAMILY DETAILS</b>
                        </h4>
                        <br>
                        <div class="input-group mb-3 row">
                            <label for="spouseName" class="col-sm-2 col-form-label">Spouse Name:</label>
                            <div class="col-sm-10">
                                <input [(ngModel)]="visitorDetails.spouseName" name="spouseName" type="text" class="form-control" id="spouseName">
                            </div>
                        </div>
                        <div class="input-group mb-3 row">
                            <label for="children" class="col-sm-2 col-form-label">Children:</label>
                            <div class="col-sm-10">
                                <div class="form-inline child-row row" *ngFor="let child of visitorDetails.children; let i = index">
                                    <div class="col-sm-6 col-5 child-col">
                                        <input [(ngModel)]="child.firstName" placeholder="First Name" [name]="'childFirstName'+i" type="text" class="form-control inline-form-control" [id]="'childFirstName'+i">
                                    </div>
                                    <div class="col-sm-5 col-5 child-col child-age-col">
                                        <input [(ngModel)]="child.age" placeholder="Age (Years)" [name]="'childAge'+i" type="number" class="form-control inline-form-control" [id]="'childAge'+i">
                                    </div>
                                    <div class="col-sm-1 col-2 child-col child-remove-col">
                                        <a class="remove-child-link" (click)="removeChild(i)">
                                            <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                                <button class="btn btn-sm btn-success btn-green" (click)="addChild()">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <b>Add Child&nbsp;</b>
                                </button>
                            </div>
                        </div>
                        <hr>
                        <br>
                        <h4 class="text-center">
                            <b>AREAS OF INTEREST</b>
                        </h4>
                        <br>
                        <div class="input-group mb-3 row">
                            <label>Find out more information about:</label>                     
                        </div>
                        <div class="input-group mb-3 row">
                            <div class="col-sm-1"></div>
                            <div class="col-sm-11">
                                <div *ngFor="let area of areasOfInterest; let i = index" class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" [id]="'lifeGroupsCheckbox'+i" (change)="toggleAreaOfInterest(area)">
                                    <label class="custom-control-label" [for]="'lifeGroupsCheckbox'+i">&nbsp;{{area}}</label>
                                </div>
                                <textarea *ngIf="isOtherArea" placeholder="Please indicate other area of interest" class="form-control" name="otherArea" id="otherArea" [(ngModel)]="visitorDetails.otherArea" cols="30" rows="4"></textarea>
                            </div>
                        </div>
                        <hr>
                        <br>
                        <div class="input-group mb-3">
                            <p><b>Note:</b>&nbsp;Please expect contact from us to make a once-off follow-up with you, and find out how you enjoyed the service.</p>
                        </div>
                        <br>
                        <div class="input-group mb-3 submit-button-container">
                            <button *ngIf="!isLoading" 
                                    class="btn btn-success btn-green submit-button" 
                                    (click)="triggerSubmitForm()">
                                <b>SUBMIT</b>
                            </button>
                            <button *ngIf="isLoading" 
                                    class="btn btn-success btn-green submit-button" 
                                    type="button" 
                                    disabled>
                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                &nbsp;<b>SENDING...</b>
                            </button>
                        </div>
                    </form>
                </div>
                <div class="col-lg-2 col-sm-0"></div>
            </div>
        </div>
    </div>
</div>